{% extends "accounts/base.html" %}
{% load i18n %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'wallets/css/card.css' %}">
<script src="https://js.stripe.com/v3/"></script>

<div class="card text-white zarathus-card mx-auto">
    <div class="card-body">
        
        <form action="{% url 'wallets:new-card' pk=user.pk %}" method="post" id="payment-form">
            {% csrf_token %}
            <div class="form-row">
                <div class="d-flex">
                    <label for="card-element">
                        {% trans "Credit or debit card" %}
                    </label> 
                    <img src="{% static 'accounts/images/Powered by Stripe - black.svg' %}" alt="" class="ms-3" style="width: auto; height:2rem;">
                </div>
                <div class="mt-2" id="card-element">
                    <!-- A Stripe Element will be inserted here. -->
                </div>
            
                <!-- Used to display Element errors. -->
                <div id="card-errors" role="alert"></div>
            </div>
            <p class="text-small pt-2">{% trans "Please note that you will not be able to change this card unless you contact our support team." %}</p>
          
            <button type="submit" class="neon-button mb-2">{% trans "Add Card" %}</button>
        </form>


    </div>
</div>

{{ stripe_key|json_script:"stripe_key" }}
<script src="{% static 'wallets/js/card.js' %}"></script>


{% endblock content %}